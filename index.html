<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contents List</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .content-item {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>Contents</h1>
    <div id="content-list"></div>
    <div>
        <strong>Total Size:</strong> <span id="total-size">0</span>
    </div>

    <script>
        function formatSize(size) {
            let value = parseFloat(size);
            if (size.includes('G')) {
                value *= 1024; // Convert GB to MB
            }
            return value;
        }

        function updateTotalSize() {
            let totalSize = 0;
            const checkboxes = document.querySelectorAll('.content-item input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const sizeText = checkbox.dataset.size;
                    totalSize += formatSize(sizeText);
                }
            });
            document.getElementById('total-size').textContent = totalSize.toFixed(2) + ' MB';
        }

        fetch('contents.txt')
            .then(response => response.text())
            .then(text => {
                const contentList = document.getElementById('content-list');
                const items = text.split('\n');
                items.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'content-item';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.dataset.size = item.match(/Size: (\d+\.\d+\w)/)[1];
                    checkbox.addEventListener('change', updateTotalSize);
                    
                    const label = document.createElement('label');
                    label.textContent = item;

                    div.appendChild(checkbox);
                    div.appendChild(label);
                    contentList.appendChild(div);
                });
            })
            .catch(error => console.error('Error fetching contents.txt:', error));
    </script>
</body>
</html>
